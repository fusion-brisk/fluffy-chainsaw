# Настройка Contentify: Быстрый старт

## Архитектура: Clipboard-First

Contentify работает **без сложной настройки**. Relay-сервер — опционален.

```
┌─────────────────────────────────────────────────────────────────────┐
│                      БАЗОВЫЙ ПУТЬ (3 шага)                         │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  1. Установить расширение → 2. Установить плагин → 3. Клик + Cmd+V │
│                                                                     │
│  Chrome Web Store            Figma Community        Готово!        │
│  (1 клик)                    (1 клик)               (2 клика)      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────┐
│                  ПРОДВИНУТЫЙ ПУТЬ (опционально)                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  + Установить Relay → Автоматическая передача без Cmd+V            │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

## Быстрый старт: 3 шага

### Шаг 1: Установите расширение Chrome

**Вариант A: Chrome Web Store (рекомендуется)**
- Перейдите в Chrome Web Store (ссылка скоро)
- Нажмите "Добавить в Chrome"

**Вариант B: Ручная установка**
1. Скачайте [extension.crx](https://github.com/fusion-brisk/fluffy-chainsaw/releases/latest/download/extension.crx)
2. Откройте `chrome://extensions/`
3. Включите **Developer mode** (переключатель справа вверху)
4. Перетащите `.crx` файл в окно браузера

### Шаг 2: Установите плагин Figma

**Вариант A: Figma Community (рекомендуется)**
- Найдите "Contentify" в Figma Community (ссылка скоро)
- Нажмите "Install"

**Вариант B: Ручная установка**
1. Скачайте репозиторий
2. В Figma: Plugins → Development → Import plugin from manifest...
3. Выберите `manifest.json`

### Шаг 3: Использование

1. **Откройте страницу Яндекса** с результатами поиска
2. **Нажмите на иконку расширения** Contentify
3. **Вставьте в Figma** нажав `Cmd+V` (или `Ctrl+V` на Windows)

Готово! Данные заполнят выбранные компоненты.

---

## Продвинутая настройка: Relay Server

Relay позволяет автоматически передавать данные без Cmd+V.

### Установка Relay

**Вариант A: Установщик .app**
1. Скачайте [Contentify-Installer.zip](https://github.com/fusion-brisk/fluffy-chainsaw/releases/latest/download/Contentify-Installer.zip)
2. Распакуйте и запустите `.app`
3. Готово! Relay запустится автоматически

**Вариант B: Через Terminal**
```bash
curl -fsSL https://raw.githubusercontent.com/fusion-brisk/fluffy-chainsaw/main/scripts/install-relay.sh | bash
```

### Проверка работы Relay
```bash
curl http://localhost:3847/health
# {"status":"ok","queueSize":0,"pendingCount":0}
```

### С Relay

1. Откройте страницу Яндекса
2. Нажмите на иконку расширения
3. Данные **автоматически** появятся в Figma (без Cmd+V)

---

## API Endpoints

| Endpoint | Метод | Описание |
|----------|-------|----------|
| `/push` | POST | Extension отправляет данные |
| `/peek` | GET | Plugin просматривает данные (без удаления) |
| `/ack` | POST | Plugin подтверждает получение |
| `/status` | GET | Статус очереди |
| `/health` | GET | Проверка работоспособности |
| `/` | WS | WebSocket для мгновенных уведомлений |

---

## Устранение неполадок

### Данные не копируются в буфер

- Убедитесь, что вы на странице Яндекса (ya.ru или yandex.ru)
- Попробуйте обновить страницу
- Проверьте, что расширение установлено и включено

### Cmd+V не работает в Figma

- Убедитесь, что плагин Contentify открыт
- Убедитесь, что окно Figma активно
- Попробуйте нажать на область плагина перед вставкой

### Relay не подключается (для продвинутых)

```bash
# Проверить статус
launchctl list | grep contentify

# Посмотреть логи
cat /tmp/contentify-relay.log

# Перезапустить
launchctl stop com.contentify.relay && launchctl start com.contentify.relay
```

---

## Безопасность

- Все данные остаются локально
- Relay работает только на localhost
- Данные автоматически удаляются через 24 часа
- Никакие данные не передаются в интернет
